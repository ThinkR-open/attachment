<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>a-Help during package development • attachment</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="a-Help during package development">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">attachment</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.4.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/a-fill-pkg-description.html">a-Help during package development</a></li>
    <li><a class="dropdown-item" href="../articles/b-bookdown-and-scripts.html">Bookdown, quarto and other scripts dependencies</a></li>
    <li><a class="dropdown-item" href="../articles/create-dependencies-file.html">Create dependencies file</a></li>
    <li><a class="dropdown-item" href="../articles/use_renv.html">Use {renv} with developers tools</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ThinkR-open/attachment/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>a-Help during package development</h1>
                        <h4 data-toc-skip class="author">Sébastien
Rochette</h4>
            
            <h4 data-toc-skip class="date">2025-02-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ThinkR-open/attachment/blob/main/vignettes/a-fill-pkg-description.Rmd" class="external-link"><code>vignettes/a-fill-pkg-description.Rmd</code></a></small>
      <div class="d-none name"><code>a-fill-pkg-description.Rmd</code></div>
    </div>

    
    
<script type="text/javascript">
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script><div class="section level2">
<h2 id="load-package-attachment">Load package {attachment}<a class="anchor" aria-label="anchor" href="#load-package-attachment"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://thinkr-open.github.io/attachment/">attachment</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="use-devdev_history-r">Use “dev/dev_history.R”<a class="anchor" aria-label="anchor" href="#use-devdev_history-r"></a>
</h2>
<p>When building your package, create a file called “dev_history.R” in a
“dev/” directory. You will store all “manual” calls to
<code>devtools::xxx</code> and <code>usethis::xxx</code> in this
script.<br>
Its first line should be :</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu">use_build_ignore</span><span class="op">(</span><span class="st">"dev"</span><span class="op">)</span></span></code></pre></div>
<p>You can then call {attachment} in this file to help you build your
description file.</p>
</div>
<div class="section level2">
<h2 id="fill-your-description-file">Fill your DESCRIPTION file<a class="anchor" aria-label="anchor" href="#fill-your-description-file"></a>
</h2>
<p>What you really want is to fill and update your description file
along with the modifications of your documentation. Indeed, only this
function will really be called in your “dev/dev_history.R”.<br>
Run <code><a href="../reference/att_amend_desc.html">attachment::att_amend_desc()</a></code> each time before
<code>devtools::check()</code>, this will save you some warnings and
errors !</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/att_amend_desc.html">att_amend_desc</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="change-default-parameters">Change default parameters<a class="anchor" aria-label="anchor" href="#change-default-parameters"></a>
</h2>
<p>We recommend to store the {attachment} command in a
“dev/dev_history.R” file in your package, so that you can update the
parameters if not using the default ones.</p>
<div class="section level3">
<h3 id="use-the-configuration-file">Use the configuration file<a class="anchor" aria-label="anchor" href="#use-the-configuration-file"></a>
</h3>
<p>If you run <code><a href="../reference/att_amend_desc.html">att_amend_desc()</a></code> directly in the console, it
will use the last set of parameters run the last time you updated the
configuration file.<br>
Hence, you can change the command in your “dev/dev_history.R” with
<code>update.config = TRUE</code>, so that next time, you can run
<code><a href="../reference/att_amend_desc.html">attachment::att_amend_desc()</a></code> directly in the console using
these updated parameters.</p>
</div>
<div class="section level3">
<h3 id="ignore-some-of-the-dependencies-automatically-detected">Ignore some of the dependencies automatically detected<a class="anchor" aria-label="anchor" href="#ignore-some-of-the-dependencies-automatically-detected"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/att_amend_desc.html">att_amend_desc</a></span><span class="op">(</span>pkg_ignore <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"fakepackage.to_ignore"</span>, <span class="st">"other.package"</span><span class="op">)</span>, update.config <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="add-extra-suggests-dependencies">Add extra <code>Suggests</code> dependencies<a class="anchor" aria-label="anchor" href="#add-extra-suggests-dependencies"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/att_amend_desc.html">att_amend_desc</a></span><span class="op">(</span>extra.suggests <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"suggested.package.not.detected"</span><span class="op">)</span>, update.config <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="move-detected-dependencies-from-imports-to-suggests">Move detected dependencies from <code>Imports</code> to
<code>Suggests</code><a class="anchor" aria-label="anchor" href="#move-detected-dependencies-from-imports-to-suggests"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/att_amend_desc.html">att_amend_desc</a></span><span class="op">(</span>pkg_ignore <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"package.to.move"</span><span class="op">)</span>, extra.suggests <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"package.to.move"</span><span class="op">)</span>, update.config <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Next time, you can run <code><a href="../reference/att_amend_desc.html">attachment::att_amend_desc()</a></code>
without any parameters, it will use the config file.</p>
</div>
</div>
<div class="section level2">
<h2 id="a-package-was-not-detected-by-att_amend_desc">A package was not detected by <code>att_amend_desc</code><a class="anchor" aria-label="anchor" href="#a-package-was-not-detected-by-att_amend_desc"></a>
</h2>
<div class="section level3">
<h3 id="i-have-a-rmarkdown-file-quarto-file-in-my-inst-directory">I have a Rmarkdown file / Quarto file in my “inst/” directory<a class="anchor" aria-label="anchor" href="#i-have-a-rmarkdown-file-quarto-file-in-my-inst-directory"></a>
</h3>
<p>In your package, you can have a wrapper around
<code><a href="https://rdrr.io/pkg/knitr/man/knit.html" class="external-link">knitr::knit()</a></code> with a specific template that you store in
“inst/”. In this case, {attachment} will not detect if there are
important dependencies that you used inside your notebook file that are
necessary for your package to work properly. Indeed, we can not
anticipate if dependencies listed in files in “inst/” need to be in
“Imports”, “Suggests”, or not listed, depending on your use of these
files.</p>
<p>For instance, I have a notebook file “inst/my_template.Rmd” as
follows, with {bookdown} being used only there in my package:</p>
<pre><code>---
title: "My Super template"
author: "John Doe"
date: "2025-02-08"
output: bookdown::html_document2
---

# First title

My text here.</code></pre>
<p><em>Suggests</em> - If I want to present this template in an example
only, {bookdown} should be listed in “Suggests”. Then I can run this
once:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/att_amend_desc.html">att_amend_desc</a></span><span class="op">(</span>extra.suggests <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bookdown"</span><span class="op">)</span>, update.config <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><em>Imports</em> - If I want to knit it inside a major function of my
package, it is recommended to declare the dependency in the ‘roxygen’
documentation of this function.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Knit my internal template</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @importFrom bookdown html_document2</span></span>
<span><span class="co">#' @export</span></span>
<span><span class="co">#'</span></span>
<span><span class="va">my_knit</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/render.html" class="external-link">render</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"my_template.Rmd"</span>, package <span class="op">=</span> <span class="st">"my.package"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Then I can directly run <code><a href="../reference/att_amend_desc.html">att_amend_desc()</a></code>.</p>
<p>In the <em>Imports</em> case, if for any reason I decide to delete
this <code>my_knit()</code> function, then the {bookdown} dependency
won’t be needed anymore, and {attachment} will automatically remove it
with the next <code><a href="../reference/att_amend_desc.html">att_amend_desc()</a></code></p>
</div>
</div>
<div class="section level2">
<h2 id="example-on-a-fake-package">Example on a fake package<a class="anchor" aria-label="anchor" href="#example-on-a-fake-package"></a>
</h2>
<p>If you are running this inside a Rmd like here, you may need
parameter <code>inside_rmd = TRUE</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Copy package in a temporary directory</span></span>
<span><span class="va">tmpdir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"insidermd"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">tmpdir</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"dummypackage"</span>,package <span class="op">=</span> <span class="st">"attachment"</span><span class="op">)</span>, <span class="va">tmpdir</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="va">dummypackage</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tmpdir</span>, <span class="st">"dummypackage"</span><span class="op">)</span></span>
<span><span class="co"># browseURL(dummypackage)</span></span>
<span><span class="fu"><a href="../reference/att_amend_desc.html">att_amend_desc</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">dummypackage</span>, inside_rmd <span class="op">=</span> <span class="cn">TRUE</span>, update.config <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'update.config' was set to TRUE, hence, 'use.config' was forced to FALSE</span></span>
<span><span class="co">#&gt; Saving attachment parameters to yaml config file</span></span>
<span><span class="co">#&gt; Loading required namespace: rstudioapi</span></span>
<span><span class="co">#&gt; Updating dummypackage documentation</span></span>
<span><span class="co">#&gt; Setting `RoxygenNote` to "7.3.2"</span></span>
<span><span class="co">#&gt; Writing <span style="color: #0000BB;">NAMESPACE</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Loading <span style="color: #0000BB;">dummypackage</span></span></span>
<span><span class="co">#&gt; Writing <span style="color: #0000BB;">NAMESPACE</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Loading <span style="color: #0000BB;">dummypackage</span></span></span>
<span><span class="co">#&gt; Package(s) Rcpp is(are) in category 'LinkingTo'. Check your Description file to be sure it is really what you want.</span></span>
<span></span>
<span><span class="co"># Clean temp files after this example</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">tmpdir</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="propose-content-for-remotes-field">Propose content for “Remotes” field<a class="anchor" aria-label="anchor" href="#propose-content-for-remotes-field"></a>
</h2>
<p><code><a href="../reference/set_remotes_to_desc.html">set_remotes_to_desc()</a></code> adds packages that were installed
from other source than CRAN to <code>Remotes:</code> field in
DESCRIPTION.</p>
<p>For instance:</p>
<ul>
<li>For GitHub: <code>Remotes: thinkr-open/attachment</code>
</li>
<li>For GitLab: <code>Remotes: gitlab::jimhester/covr</code>
</li>
<li>For Git:
<code>Remotes: git::https://theurl/package_git.git</code>
</li>
<li>For local package: <code>Remotes: local::c:\mylocalpackage</code> or
<code>Remotes: local::subdir/mylocalpackage</code>
</li>
<li>For Bioconductor: <code>Remotes: bioc::3.3/package_bioc</code>
</li>
<li>For r-universe: Show a message to inform how to use r-universe with
<code>options</code>, like
<code>r-universe: need to set options to repos="https://thinkr-open.r-universe.dev"</code>
</li>
</ul>
<p>You may want to run it after <code><a href="../reference/att_amend_desc.html">att_amend_desc()</a></code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/att_amend_desc.html">att_amend_desc</a></span><span class="op">(</span><span class="va">dummypackage</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/set_remotes_to_desc.html">set_remotes_to_desc</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>If you only want to find if packages were installed from other source
than CRAN, without amending DESCRIPTION, you can use
<code><a href="../reference/find_remotes.html">find_remotes()</a></code>.</p>
<p>You can use it on a vector of packages names</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/find_remotes.html">find_remotes</a></span><span class="op">(</span>pkg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"attachment"</span>, <span class="st">"desc"</span>, <span class="st">"glue"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $attachment</span></span>
<span><span class="co">#&gt; local maybe ? </span></span>
<span><span class="co">#&gt;            NA</span></span></code></pre></div>
<p>You may also want to combine it to
<code><a href="../reference/att_from_description.html">att_from_description()</a></code></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/att_from_description.html">att_from_description</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/find_remotes.html">find_remotes</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>If you want to get the complete list of packages installed on your
computer with non-CRAN repositories:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/find_remotes.html">find_remotes</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.dirs</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths</a></span><span class="op">(</span><span class="op">)</span>, full.names <span class="op">=</span> <span class="cn">FALSE</span>, recursive <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>You can test it if you install {fusen} from GitHub or r-universe:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># From GitHub</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"ThinkR-open/fusen"</span>,</span>
<span>                        quiet <span class="op">=</span> <span class="cn">TRUE</span>, upgrade <span class="op">=</span> <span class="st">"never"</span><span class="op">)</span></span>
<span><span class="fu">attachment</span><span class="fu">::</span><span class="fu"><a href="../reference/find_remotes.html">find_remotes</a></span><span class="op">(</span><span class="st">"fusen"</span><span class="op">)</span></span>
<span><span class="co">#&gt; $fusen</span></span>
<span><span class="co">#&gt; [1] "ThinkR-open/fusen"</span></span>
<span></span>
<span><span class="co"># From r-universe as default repos</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"fusen"</span>, repos <span class="op">=</span> <span class="st">"https://thinkr-open.r-universe.dev"</span><span class="op">)</span></span>
<span><span class="fu">attachment</span><span class="fu">::</span><span class="fu"><a href="../reference/find_remotes.html">find_remotes</a></span><span class="op">(</span><span class="st">"fusen"</span><span class="op">)</span></span>
<span><span class="co">#&gt; r-universe: need to set options to repos="https://thinkr-open.r-universe.dev" </span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="create-a-file-for-package-installation">Create a file for package installation<a class="anchor" aria-label="anchor" href="#create-a-file-for-package-installation"></a>
</h2>
<p>Once your package is finished. Well, is a package ever finished ?
Let’s say, once you want to release a version of your package, you may
want to deliver the list of dependencies your users will have to
install. A little script like
<code>install.packages(c(...all dep...))</code> would be so nice :</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/create_dependencies_file.html">create_dependencies_file</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This file will be placed in <code>inst/dependencies.R</code> and
contains :</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># No Remotes ----</span></span>
<span><span class="co"># remotes::install_github("ThinkR-open/fcuk")</span></span>
<span><span class="co"># Attachments ----</span></span>
<span><span class="va">to_install</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"covr"</span>, <span class="st">"desc"</span>, <span class="st">"devtools"</span>, <span class="st">"glue"</span>, <span class="st">"knitr"</span>, <span class="st">"magrittr"</span>, <span class="st">"rmarkdown"</span>, <span class="st">"stats"</span>, <span class="st">"stringr"</span>, <span class="st">"testthat"</span>, <span class="st">"utils"</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="va">to_install</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"looking for "</span>, <span class="va">i</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"     installing"</span>, <span class="va">i</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="other-possibilities">Other possibilities<a class="anchor" aria-label="anchor" href="#other-possibilities"></a>
</h2>
<p>Of course, you can also use {attachment} out of a package to list all
package dependencies of R scripts using
<code><a href="../reference/att_from_rscripts.html">att_from_rscripts()</a></code>, Rmd files using
<code><a href="../reference/att_from_rmds.html">att_from_rmds()</a></code> or examples from R scripts using
<code><a href="../reference/att_from_examples.html">att_from_examples()</a></code>.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dummypackage</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"dummypackage"</span>, package <span class="op">=</span> <span class="st">"attachment"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/att_from_rscripts.html">att_from_rscripts</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">dummypackage</span>, <span class="st">"R"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "stats"</span></span>
<span><span class="fu"><a href="../reference/att_from_rmds.html">att_from_rmds</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">dummypackage</span>, <span class="st">"vignettes"</span><span class="op">)</span>, inside_rmd <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "knitr"     "rmarkdown" "glue"</span></span>
<span><span class="fu"><a href="../reference/att_from_examples.html">att_from_examples</a></span><span class="op">(</span>dir.r <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">dummypackage</span>, <span class="st">"R"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "utils"   "stringr"</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vincent Guyader, Sébastien Rochette, Murielle Delmotte, Swann Floc’hlay, ThinkR.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
