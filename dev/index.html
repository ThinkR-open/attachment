<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content='Manage dependencies during package development. This can retrieve all dependencies that are used in ".R" files in the "R/" directory, in ".Rmd" files in "vignettes/" directory and in roxygen2 documentation of functions. There is a function to update the "DESCRIPTION" file of your package with CRAN packages or any other remote package. All functions to retrieve dependencies of ".R" scripts and ".Rmd" or ".qmd" files can be used independently of a package development.'>
<title>Deal with Dependencies • attachment</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Deal with Dependencies">
<meta property="og:description" content='Manage dependencies during package development. This can retrieve all dependencies that are used in ".R" files in the "R/" directory, in ".Rmd" files in "vignettes/" directory and in roxygen2 documentation of functions. There is a function to update the "DESCRIPTION" file of your package with CRAN packages or any other remote package. All functions to retrieve dependencies of ".R" scripts and ".Rmd" or ".qmd" files can be used independently of a package development.'>
<meta property="og:image" content="https://thinkr-open.github.io/attachment/logo.png">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">attachment</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.4.1.9001</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/a-fill-pkg-description.html">a-Help during package development</a>
    <a class="dropdown-item" href="articles/b-bookdown-and-scripts.html">Bookdown, quarto and other scripts dependencies</a>
    <a class="dropdown-item" href="articles/create-dependencies-file.html">Create dependencies file</a>
    <a class="dropdown-item" href="articles/use_renv.html">Use {renv} with developers tools</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ThinkR-open/attachment/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="attachment-">attachment <a class="anchor" aria-label="anchor" href="#attachment-"></a>
</h1>
</div>
<p>The goal of attachment is to help to deal with package dependencies during package development. It also gives useful tools to install or list missing packages used inside Rscripts or Rmds.</p>
<p>When building a package, we have to add <code>@importFrom</code> in our documentation or <code>pkg::fun</code> in the R code. The most important is not to forget to add the list of dependencies in the “Imports” or “Suggests” package lists in the DESCRIPTION file.</p>
<p>Why do you have to repeat twice the same thing ?<br>
And what happens when you remove a dependency for one of your functions ? Do you really want to run a “Find in files” to verify that you do not need this package anymore ?</p>
<p>Let {attachment} help you ! This reads your NAMESPACE, your functions in R directory and your vignettes, then update the DESCRIPTION file accordingly. Are you ready to be lazy ?</p>
<p>See full documentation realized using {pkgdown} at <a href="https://thinkr-open.github.io/attachment/" class="uri">https://thinkr-open.github.io/attachment/</a></p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>CRAN version</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"attachment"</span><span class="op">)</span></span></code></pre></div>
<p>Development version</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'attachment'</span>, repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'https://thinkr-open.r-universe.dev'</span>, <span class="st">'https://cloud.r-project.org'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="declare-all-dependencies-in-description-during-package-development">Declare all dependencies in DESCRIPTION during package development<a class="anchor" aria-label="anchor" href="#declare-all-dependencies-in-description-during-package-development"></a>
</h2>
<p>What you really want is to fill and update your description file along with the modifications of your documentation. Indeed, only the following function will really be called. Use and abuse during the development of your package !</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">attachment</span><span class="fu">::</span><span class="fu"><a href="reference/att_amend_desc.html">att_amend_desc</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>{attachment} detects all calls to <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library(pkg)</a></code>, <code>@importFrom pkg fun</code>, <code>pkg::fun()</code> in the different classical directories of your R package, then list them in the correct “Imports” or “Suggests” category in the DESCRIPTION file, according to their position in the package.</p>
<div class="section level3">
<h3 id="declare-extra-dependencies-for-extra-uses">Declare extra dependencies for extra uses<a class="anchor" aria-label="anchor" href="#declare-extra-dependencies-for-extra-uses"></a>
</h3>
<p>If you want to add extra packages like {pkgdown} or {covr} that are not listed in any script in your package, a call for your development packages would be:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">attachment</span><span class="fu">::</span><span class="fu"><a href="reference/att_amend_desc.html">att_amend_desc</a></span><span class="op">(</span>extra.suggests <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pkgdown"</span>, <span class="st">"covr"</span><span class="op">)</span>, update.config <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Note the <code>update.config = TRUE</code> parameter that will save the parameters used in the call of <code><a href="reference/att_amend_desc.html">att_amend_desc()</a></code> to the package configuration file: “dev/config_attachment.yaml”.</p>
<p>If you run <code><a href="reference/att_amend_desc.html">att_amend_desc()</a></code> a second time afterwards, directly from the console, it will use the last set of parameters extracted from the configuration file.</p>
<p>Indeed, we recommend to store the complete command line in a “dev/dev_history.R” file to update and run it when needed. If the parameters do not change, you can run <code><a href="reference/att_amend_desc.html">attachment::att_amend_desc()</a></code> directly in the console, wherever you are, it will use the configuration file.</p>
</div>
<div class="section level3">
<h3 id="automatically-fill-the-remotes-field">Automatically fill the “Remotes” field<a class="anchor" aria-label="anchor" href="#automatically-fill-the-remotes-field"></a>
</h3>
<p>If you would like to detect the sources of your installations so that you can add dependencies in the “Remotes” field of your DESCRIPTION file, to mimic your local installation, you will use:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">attachment</span><span class="fu">::</span><span class="fu"><a href="reference/set_remotes_to_desc.html">set_remotes_to_desc</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="example-on-a-fake-package">Example on a fake package<a class="anchor" aria-label="anchor" href="#example-on-a-fake-package"></a>
</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Copy example package in a temporary directory</span></span>
<span><span class="va">tmpdir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"fakepkg"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">tmpdir</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.copy</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"dummypackage"</span>,package <span class="op">=</span> <span class="st">"attachment"</span><span class="op">)</span>, <span class="va">tmpdir</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="va">dummypackage</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">tmpdir</span>, <span class="st">"dummypackage"</span><span class="op">)</span></span>
<span><span class="co"># browseURL(dummypackage)</span></span>
<span></span>
<span><span class="co"># Fill the DESCRIPTION file automatically</span></span>
<span><span class="co"># `inside_rmd` is specifically designed here to allow to run this command line in the "Readme.Rmd" file</span></span>
<span><span class="va">desc_file</span> <span class="op">&lt;-</span> <span class="fu">attachment</span><span class="fu">::</span><span class="fu"><a href="reference/att_amend_desc.html">att_amend_desc</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">dummypackage</span>, inside_rmd <span class="op">=</span> <span class="cn">TRUE</span>, update.config <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'update.config' was set to TRUE, hence, 'use.config' was forced to FALSE</span></span>
<span><span class="co">#&gt; Saving attachment parameters to yaml config file</span></span>
<span><span class="co">#&gt; Updating dummypackage documentation</span></span>
<span><span class="co">#&gt; ────────────────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Changes in roxygen2 7.0.0:</span></span>
<span><span class="co">#&gt; * `%` is now escaped automatically in Markdown mode.</span></span>
<span><span class="co">#&gt; Please carefully check .Rd files for changes</span></span>
<span><span class="co">#&gt; ────────────────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Setting `RoxygenNote` to "7.2.2"</span></span>
<span><span class="co">#&gt; ℹ Loading dummypackage</span></span>
<span><span class="co">#&gt; Writing ']8;;file:///tmp/Rtmp3Dpn4h/fakepkg3538450e5c49/dummypackage/NAMESPACENAMESPACE]8;;'</span></span>
<span><span class="co">#&gt; Writing ']8;;file:///tmp/Rtmp3Dpn4h/fakepkg3538450e5c49/dummypackage/NAMESPACENAMESPACE]8;;'</span></span>
<span><span class="co">#&gt; ℹ Loading dummypackage</span></span>
<span><span class="co">#&gt; Package(s) Rcpp is(are) in category 'LinkingTo'. Check your Description file to be sure it is really what you want.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [-] 1 package(s) removed: utils.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [+] 2 package(s) added: stats, glue.</span></span>
<span></span>
<span><span class="co"># Add Remotes if you have some installed</span></span>
<span><span class="fu">attachment</span><span class="fu">::</span><span class="fu"><a href="reference/set_remotes_to_desc.html">set_remotes_to_desc</a></span><span class="op">(</span>path.d <span class="op">=</span> <span class="va">desc_file</span><span class="op">)</span></span>
<span><span class="co">#&gt; There are no remote packages installed on your computer to add to description</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span></span>
<span><span class="co"># Clean state</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">tmpdir</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="more-on-finding-remotes-repositories-non-installed-from-cran">More on finding Remotes repositories (non installed from CRAN)<a class="anchor" aria-label="anchor" href="#more-on-finding-remotes-repositories-non-installed-from-cran"></a>
</h2>
<p>Find packages installed out of CRAN. This helps fill the “Remotes” field in DESCRIPTION file with <code><a href="reference/set_remotes_to_desc.html">set_remotes_to_desc()</a></code>.<br>
Behind the scene, it uses <code><a href="reference/find_remotes.html">find_remotes()</a></code>.</p>
<ul>
<li>See the examples below if {fusen} is installed from GitHub
<ul>
<li>Also works for GitLab, Bioconductor, Git, Local installations</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># From GitHub</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"ThinkR-open/fusen"</span>,</span>
<span>                        quiet <span class="op">=</span> <span class="cn">TRUE</span>, upgrade <span class="op">=</span> <span class="st">"never"</span><span class="op">)</span></span>
<span><span class="fu">attachment</span><span class="fu">::</span><span class="fu"><a href="reference/find_remotes.html">find_remotes</a></span><span class="op">(</span><span class="st">"fusen"</span><span class="op">)</span></span>
<span><span class="co">#&gt; $fusen</span></span>
<span><span class="co">#&gt; [1] "ThinkR-open/fusen"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="find-and-install-missing-dependencies-required-for-your-r-scripts">Find and install missing dependencies required for your R scripts<a class="anchor" aria-label="anchor" href="#find-and-install-missing-dependencies-required-for-your-r-scripts"></a>
</h2>
<p>To quickly install missing packages from a DESCRIPTION file, use:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">attachment</span><span class="fu">::</span><span class="fu"><a href="reference/install_from_description.html">install_from_description</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; All required packages are installed</span></span></code></pre></div>
<p>To quickly install missing packages needed to compile Rmd files or run R scripts, use:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">attachment</span><span class="fu">::</span><span class="fu"><a href="reference/att_from_rmds.html">att_from_rmds</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"."</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">attachment</span><span class="fu">::</span><span class="fu"><a href="reference/install_if_missing.html">install_if_missing</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">attachment</span><span class="fu">::</span><span class="fu"><a href="reference/att_from_rscripts.html">att_from_rscripts</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"."</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">attachment</span><span class="fu">::</span><span class="fu"><a href="reference/install_if_missing.html">install_if_missing</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Function <code><a href="reference/create_dependencies_file.html">attachment::create_dependencies_file()</a></code> will create a <code>dependencies.R</code> file in <code>inst/</code> directory. This R script contains the procedure to quickly install missing dependencies:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Remotes ----</span></span>
<span><span class="co"># remotes::install_github("ThinkR-open/fcuk")</span></span>
<span><span class="co"># Attachments ----</span></span>
<span><span class="va">to_install</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"covr"</span>, <span class="st">"desc"</span>, <span class="st">"devtools"</span>, <span class="st">"glue"</span>, <span class="st">"knitr"</span>, <span class="st">"magrittr"</span>, <span class="st">"rmarkdown"</span>, <span class="st">"stats"</span>, <span class="st">"stringr"</span>, <span class="st">"testthat"</span>, <span class="st">"utils"</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="va">to_install</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"looking for "</span>, <span class="va">i</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"     installing"</span>, <span class="va">i</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="allow-the-ci-to-install-all-dependencies-required-for-your-bookdown-pagedown-quarto-">Allow the CI to install all dependencies required for your bookdown, pagedown, quarto, …<a class="anchor" aria-label="anchor" href="#allow-the-ci-to-install-all-dependencies-required-for-your-bookdown-pagedown-quarto-"></a>
</h2>
<p>If you write a {bookdown} and want to publish it on Github using GitHub Actions or GitLab CI for instance, you will need a DESCRIPTION file with list of dependencies just like for a package. In this case, you can use the function to description from import/suggest: <code><a href="reference/att_to_desc_from_is.html">att_to_desc_from_is()</a></code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu">use_description</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># bookdown Imports are in Rmds</span></span>
<span><span class="va">imports</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bookdown"</span>, <span class="fu">attachment</span><span class="fu">::</span><span class="fu"><a href="reference/att_from_rmds.html">att_from_rmds</a></span><span class="op">(</span><span class="st">"."</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">attachment</span><span class="fu">::</span><span class="fu"><a href="reference/att_to_desc_from_is.html">att_to_desc_from_is</a></span><span class="op">(</span>path.d <span class="op">=</span> <span class="st">"DESCRIPTION"</span>,</span>
<span>                                imports <span class="op">=</span> <span class="va">imports</span>, suggests <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
<p>Then, install dependencies with</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_deps</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="list-packages-required-in-any-script-or-notebook">List packages required in any script or notebook<a class="anchor" aria-label="anchor" href="#list-packages-required-in-any-script-or-notebook"></a>
</h2>
<p>Of course, you can also use {attachment} out of a package to list all package dependencies of R scripts using <code><a href="reference/att_from_rscripts.html">att_from_rscripts()</a></code> or Rmd/qmd files using <code><a href="reference/att_from_rmds.html">att_from_rmds()</a></code>.<br>
If you are running this inside a Rmd, you may need parameter <code>inside_rmd = TRUE</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://thinkr-open.github.io/attachment/">attachment</a></span><span class="op">)</span></span>
<span><span class="va">dummypackage</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"dummypackage"</span>, package <span class="op">=</span> <span class="st">"attachment"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/att_from_rscripts.html">att_from_rscripts</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">dummypackage</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "stats"        "testthat"     "dummypackage"</span></span>
<span><span class="fu"><a href="reference/att_from_rmds.html">att_from_rmds</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">dummypackage</span>, <span class="st">"vignettes"</span><span class="op">)</span>, inside_rmd <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "knitr"     "rmarkdown" "glue"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="vignettes-included">Vignettes included<a class="anchor" aria-label="anchor" href="#vignettes-included"></a>
</h2>
<p>Package {attachment} has vignettes to present the different functions available. There is also a recommendation to have a <code>dev_history.R</code> in the root directory of your package. (<em>Have a look at <a href="https://github.com/ThinkR-open/attachment/blob/main/dev/dev_history.R" class="external-link">dev_history.R</a> in the present package</em>)</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">"a-fill-pkg-description"</span>, package <span class="op">=</span> <span class="st">"attachment"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">"b-bookdown-and-scripts"</span>, package <span class="op">=</span> <span class="st">"attachment"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">"use_renv"</span>, package <span class="op">=</span> <span class="st">"attachment"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/vignette.html" class="external-link">vignette</a></span><span class="op">(</span><span class="st">"create-dependencies-file"</span>, package <span class="op">=</span> <span class="st">"attachment"</span><span class="op">)</span></span></code></pre></div>
<p>The vignettes are available on the {pkgdown} page, in the “Articles” menu: <a href="https://thinkr-open.github.io/attachment/" class="uri">https://thinkr-open.github.io/attachment/</a></p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the attachment project is released with a <a href="https://thinkr-open.github.io/attachment/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms</p>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=attachment" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ThinkR-open/attachment/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ThinkR-open/attachment/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing attachment</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Sébastien Rochette <br><small class="roles"> Maintainer, author </small> <a href="https://orcid.org/0000-0002-1565-9313" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Vincent Guyader <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-0671-9270" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Murielle Delmotte <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-1339-2424" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Swann Floc'hlay <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-1477-830X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>ThinkR <br><small class="roles"> Copyright holder, funder </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ThinkR-open/attachment/actions" class="external-link"><img src="https://github.com/ThinkR-open/attachment/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/github/ThinkR-open/attachment/tree/main" class="external-link"><img src="https://codecov.io/gh/ThinkR-open/attachment/branch/main/graph/badge.svg" alt="Coverage status"></a></li>
<li><a href="https://cran.r-project.org/package=attachment" class="external-link"><img src="https://www.r-pkg.org/badges/version/attachment" alt="CRAN status"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sébastien Rochette, Vincent Guyader, Murielle Delmotte, Swann Floc’hlay, ThinkR.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
